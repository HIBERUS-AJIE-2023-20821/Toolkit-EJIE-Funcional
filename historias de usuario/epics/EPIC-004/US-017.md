# US-017: Visualización de formatos específicos por tipo de documento

## ID
US-017

## Título
Visualización de formatos específicos por tipo de documento

## Como
Ciudadano

## Quiero
Conocer los formatos específicos permitidos para cada tipo de documento requerido en el paso 4

## Para
Poder subir los archivos con la extensión correcta y evitar errores en el proceso

## Descripción funcional

El sistema debe informar al ciudadano sobre los formatos específicos (extensiones de archivo) permitidos para cada tipo de documento requerido en el paso 4 del formulario. Aunque ya existe una visualización de formatos generales permitidos para subir documentos, algunos tipos de documento requieren formatos concretos que deben ser informados específicamente al ciudadano.

Esta información se encuentra configurada en el catálogo de procedimientos y debe incorporarse tanto visualmente en el espacio correspondiente al tipo de documento como en las validaciones necesarias para permitir solo la incorporación de los formatos específicos configurados.

Si un tipo de documento no tiene formatos específicos configurados, no se muestra información adicional de formatos en el espacio del tipo de documento, mostrándose solo la información general de formatos permitidos.

El sistema debe validar que los documentos cargados cumplan con los formatos específicos cuando estos estén configurados, rechazando archivos con extensiones no permitidas y mostrando un mensaje claro al ciudadano.

## Flujo principal

1. Ciudadano accede al paso 4 - Documentos de la solicitud
2. Sistema consulta catálogo de procedimientos para obtener formatos específicos por tipo de documento
3. Para cada tipo de documento requerido, sistema verifica si tiene formatos específicos configurados
4. Si tiene formatos específicos, sistema muestra información visual de extensiones permitidas
5. Ciudadano visualiza formatos específicos para el tipo de documento
6. Ciudadano selecciona archivo para cargar
7. Sistema valida que la extensión del archivo coincide con formatos específicos permitidos
8. Si la extensión es válida, sistema permite la carga
9. Si la extensión no es válida, sistema rechaza el archivo y muestra mensaje informativo

## Criterios de aceptación

### Escenario 1: Visualización de formatos específicos

**Dado** un tipo de documento con formatos específicos configurados  
**Cuando** el ciudadano visualiza el paso 4  
**Entonces** el sistema muestra las extensiones permitidas para ese tipo de documento  
**Y** la información es claramente visible en el espacio del tipo de documento

### Escenario 2: Sin formatos específicos configurados

**Dado** un tipo de documento sin formatos específicos configurados  
**Cuando** el ciudadano visualiza el paso 4  
**Entonces** no se muestra información adicional de formatos en el espacio del tipo de documento  
**Y** se mantiene solo la información general de formatos permitidos

### Escenario 3: Validación de formato específico válido

**Dado** un tipo de documento con formato específico PDF configurado  
**Cuando** el ciudadano intenta cargar un archivo PDF  
**Entonces** el sistema valida que la extensión es correcta  
**Y** permite la carga del documento

### Escenario 4: Validación de formato específico inválido

**Dado** un tipo de documento con formato específico PDF configurado  
**Cuando** el ciudadano intenta cargar un archivo con extensión diferente  
**Entonces** el sistema rechaza el archivo  
**Y** muestra mensaje indicando las extensiones permitidas para ese tipo de documento

### Escenario 5: Múltiples formatos específicos permitidos

**Dado** un tipo de documento con múltiples formatos específicos configurados (por ejemplo: PDF, JPG, PNG)  
**Cuando** el ciudadano visualiza el tipo de documento  
**Entonces** el sistema muestra todas las extensiones permitidas  
**Y** el ciudadano puede cargar archivos con cualquiera de las extensiones listadas

### Escenario 6: Consulta correcta del catálogo

**Dado** el ciudadano accediendo al paso 4  
**Cuando** el sistema carga los tipos de documento requeridos  
**Entonces** consulta correctamente el catálogo de procedimientos  
**Y** obtiene los formatos específicos configurados para cada tipo  
**Y** los aplica antes de mostrar la interfaz al ciudadano

---

*Historia creada: 28/01/2026*  
*Última actualización: 28/01/2026*
